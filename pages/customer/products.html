<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RDC - Products</title>
    <link rel="stylesheet" href="../../css/styles.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <span class="logo-text">RDC System</span>
                <span id="current-user"></span>
            </div>
            <div class="nav-menu">
                <button class="nav-link active" onclick="window.location.href='products.html'">Products</button>
                <button class="nav-link" onclick="window.location.href='orders.html'">My Orders</button>
                <button class="nav-link" onclick="window.location.href='cart.html'">Cart<span id="cart-badge" class="badge">0</span></button>
                <button class="nav-link" onclick="window.location.href='profile.html'">Profile</button>
                <button class="nav-link logout" onclick="logout()">Logout</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="page-content">
        <div class="page-header">
            <h2>Products Catalog</h2>
            <p>Browse and shop our products</p>
        </div>

        <!-- Search & Filter Controls -->
        <div class="products-controls">
            <div class="search-box">
                <input type="text" id="search-input" placeholder="Search products...">
            </div>
            <div class="filters">
                <select id="category-filter">
                    <option value="">All Categories</option>
                    <option value="Electronics">Electronics</option>
                    <option value="Clothing">Clothing</option>
                    <option value="Home">Home & Garden</option>
                    <option value="Books">Books</option>
                    <option value="Toys">Toys & Games</option>
                </select>
                <select id="price-filter">
                    <option value="">All Prices</option>
                    <option value="0-50">$0 - $50</option>
                    <option value="50-100">$50 - $100</option>
                    <option value="100-500">$100 - $500</option>
                    <option value="500+">$500+</option>
                </select>
                <select id="sort-filter">
                    <option value="name">Sort by Name</option>
                    <option value="price-low">Price: Low to High</option>
                    <option value="price-high">Price: High to Low</option>
                    <option value="popularity">Most Popular</option>
                </select>
            </div>
        </div>

        <!-- Products Grid -->
        <div id="products-grid" class="products-grid">
            <!-- Products will be populated here -->
        </div>
    </div>

    <!-- Product Details Modal -->
    <div id="product-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('product-modal')">&times;</span>
            <div id="product-details">
                <!-- Product details will be populated here -->
            </div>
        </div>
    </div>

    <script src="../../js/data.js"></script>
    <script src="../../js/auth.js"></script>
    <script src="../../js/customer.js"></script>
    
    <script>
        // Add event listeners for navigation buttons as backup
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Products page fully loaded');
            console.log('Window object available:', typeof window === 'object');
            console.log('currentUser:', currentUser);
            console.log('currentCart:', currentCart);
            console.log('showProductDetails function:', typeof showProductDetails);
            console.log('addToCart function:', typeof addToCart);
            console.log('logout function:', typeof logout);
            console.log('Stored token:', localStorage.getItem('token') ? 'YES' : 'NO');
            console.log('Stored user:', localStorage.getItem('user') ? 'YES' : 'NO');
            
            // Create a test button
            const testBtn = document.createElement('button');
            testBtn.textContent = 'TEST BUTTON';
            testBtn.style.cssText = 'padding: 10px 20px; background: red; color: white; border: none; cursor: pointer; position: fixed; top: 100px; right: 10px; z-index: 9999;';
            testBtn.onclick = function() {
                alert('Test button works! onclick is functional.');
                console.log('Test button clicked');
            };
            document.body.appendChild(testBtn);
        });
    </script>
</body>
</html>
