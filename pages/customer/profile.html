<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RDC - My Profile</title>
    <link rel="stylesheet" href="../../css/styles.css" />
    <link rel="stylesheet" href="../../css/footer.css" />
    <link rel="stylesheet" href="../../css/images.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <style>
      .profile-container {
        max-width: 800px;
        margin: 0 auto;
      }
      .profile-section {
        background: white;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .profile-section h3 {
        margin-top: 0;
        color: #333;
        border-bottom: 2px solid #007bff;
        padding-bottom: 10px;
      }
      .form-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
      }
      .form-grid-full {
        grid-column: 1 / -1;
      }
      @media (max-width: 600px) {
        .form-grid {
          grid-template-columns: 1fr;
        }
      }
      .btn-group {
        display: flex;
        gap: 10px;
        margin-top: 15px;
      }
      .profile-info {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
      }
      .info-item {
        padding: 10px;
        background: #f8f9fa;
        border-radius: 5px;
      }
      .info-label {
        font-weight: bold;
        color: #666;
        font-size: 0.9em;
      }
      .info-value {
        color: #333;
        margin-top: 5px;
      }
      .status-message {
        padding: 12px 16px;
        border-radius: 4px;
        font-weight: 500;
        animation: slideIn 0.3s ease-in-out;
      }
      .status-message.success {
        background-color: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
      }
      .status-message.error {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
      }
      .status-message.info {
        background-color: #d1ecf1;
        color: #0c5460;
        border: 1px solid #bee5eb;
      }
      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body>
    <!-- Navigation Bar -->
    <nav class="navbar">
      <div class="nav-container">
        <div class="nav-logo">
          <span class="logo-text">RDC System</span>
          <span id="current-user"></span>
        </div>
        <div class="nav-menu">
          <button class="nav-link" data-nav="products">Products</button>
          <button class="nav-link" data-nav="orders">My Orders</button>
          <button class="nav-link" data-nav="cart">
            Cart<span id="cart-badge" class="badge">0</span>
          </button>
          <button class="nav-link active" data-nav="profile">Profile</button>
          <button class="nav-link" data-nav="settings">Settings</button>
          <button class="nav-link logout" data-nav="logout">Logout</button>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="page-content">
      <div class="page-header">
        <h2>My Profile</h2>
        <p>Manage your account and preferences</p>
      </div>

      <div class="profile-container">
        <!-- Profile Information -->
        <div class="profile-section">
          <h3>Account Information</h3>
          <div class="profile-info">
            <div class="info-item">
              <div class="info-label">Name</div>
              <div class="info-value" id="profile-name">-</div>
            </div>
            <div class="info-item">
              <div class="info-label">Email</div>
              <div class="info-value" id="profile-email">-</div>
            </div>
            <div class="info-item">
              <div class="info-label">Phone</div>
              <div class="info-value" id="profile-phone">-</div>
            </div>
            <div class="info-item">
              <div class="info-label">Member Since</div>
              <div class="info-value" id="profile-joined">-</div>
            </div>
          </div>
        </div>

        <!-- Edit Profile -->
        <div class="profile-section">
          <h3>Edit Profile</h3>
          <form id="edit-profile-form" class="form-grid">
            <div class="form-group">
              <label for="edit-name">Full Name</label>
              <input
                type="text"
                id="edit-name"
                aria-label="Full Name"
                placeholder="Your full name"
              />
            </div>
            <div class="form-group">
              <label for="edit-phone">Phone Number</label>
              <input
                type="tel"
                id="edit-phone"
                aria-label="Phone Number"
                placeholder="Your phone number"
              />
            </div>
            <div class="form-group form-grid-full">
              <label for="edit-address">Address</label>
              <input
                type="text"
                id="edit-address"
                aria-label="Address"
                placeholder="Your delivery address"
              />
            </div>
            <div class="btn-group">
              <button
                type="button"
                class="btn btn-primary"
                data-action="save-profile"
              >
                Save Changes
              </button>
              <button
                type="button"
                class="btn btn-secondary"
                data-action="cancel-edit"
              >
                Cancel
              </button>
            </div>
          </form>
          <div id="edit-message" class="margin-top-10 display-none"></div>
        </div>

        <!-- Change Password -->
        <div class="profile-section">
          <h3>Change Password</h3>
          <form id="change-password-form" class="form-grid">
            <!-- Hidden username field to assist password managers and satisfy accessibility/autocomplete requirements -->
            <div class="left-minus-9999-full">
              <label for="pw-username" class="left-minus-9999-full"
                >Username for password managers</label
              >
              <input
                type="text"
                id="pw-username"
                name="username"
                autocomplete="username"
                tabindex="-1"
                aria-hidden="true"
              />
            </div>
            <div class="form-group form-grid-full">
              <label for="current-password">Current Password</label>
              <input
                type="password"
                id="current-password"
                placeholder="Enter current password"
                autocomplete="current-password"
                required
              />
            </div>
            <div class="form-group">
              <label for="new-password">New Password</label>
              <input
                type="password"
                id="new-password"
                placeholder="Enter new password"
                autocomplete="new-password"
                required
              />
            </div>
            <div class="form-group">
              <label for="confirm-new-password">Confirm Password</label>
              <input
                type="password"
                id="confirm-new-password"
                placeholder="Confirm new password"
                autocomplete="new-password"
                required
              />
            </div>
            <div class="btn-group form-grid-full">
              <button
                type="button"
                class="btn btn-primary"
                data-action="change-password"
              >
                Update Password
              </button>
            </div>
          </form>
          <div id="password-message" class="margin-top-10 display-none"></div>
        </div>

        <!-- Email Verification -->
        <div class="profile-section">
          <h3>Email Verification</h3>
          <div
            class="padding-15 background-f8f9fa border-radius-5 margin-bottom-15"
          >
            <div
              class="display-flex justify-content-space-between align-items-center"
            >
              <div>
                <p class="margin-0 color-333 font-weight-bold">Email Address</p>
                <p
                  class="margin-0 color-666 font-size-09em"
                  id="verify-email-display"
                >
                  Loading...
                </p>
              </div>
              <div>
                <span
                  id="verify-status-badge"
                  class="padding-5 border-radius-20 font-size-085em font-weight-bold background-fff3cd"
                  >Not Verified</span
                >
              </div>
            </div>
          </div>
          <p class="margin-10-0 color-666 font-size-09em">
            Verify your email to unlock all features including delivery
            notifications and promotional offers.
          </p>
          <div class="btn-group">
            <button
              type="button"
              class="btn btn-primary"
              data-action="send-verification-email"
            >
              Send Verification Email
            </button>
          </div>
          <div id="verify-message" class="margin-top-10 display-none"></div>
        </div>

        <!-- Account Statistics -->
        <div class="profile-section">
          <h3>Account Statistics</h3>
          <div class="profile-info">
            <div class="info-item">
              <div class="info-label">Total Orders</div>
              <div class="info-value" id="stat-total-orders">0</div>
            </div>
            <div class="info-item">
              <div class="info-label">Total Spent</div>
              <div class="info-value" id="stat-total-spent">$0</div>
            </div>
            <div class="info-item">
              <div class="info-label">Pending Orders</div>
              <div class="info-value" id="stat-pending-orders">0</div>
            </div>
            <div class="info-item">
              <div class="info-label">Delivered Orders</div>
              <div class="info-value" id="stat-delivered-orders">0</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="../../js/data.js?v=20260209-005"></script>
    <script src="../../js/auth.js?v=20260209-002"></script>
    <script src="../../js/customer.js?v=20260209-004"></script>
    <script src="../../js/footer-loader.js"></script>
  </body>
</html>


